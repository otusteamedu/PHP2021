# Учебный материал для курса PHP: работа с сокетами

Это приложение:

- создаёт сокет UNIX;
- поднимает соединение;
- принимает сообщения до тех пор, пока не получит строку "выход".

## Установка

```shell
$ git clone git@github.com:DmitryKirillov/otus-php-sockets.git
$ cd otus-php-sockets
$ composer install 
```

## Запуск

```shell
$ php app.php 
```

При успешном запуске приложение выведет:

```shell
Инициализирую сокет...
Сокет инициализирован
Поднимаю соединение... 
```

## Описание процесса

### Шаг 1. Подключаемся к сокету
 
- выбираем, с каким сокетом хотим работать (по сети / с локальным сокетом UNIX)
- создаём этот сокет через `socket_create()`
- привязываем к сокету адрес через `socket_bind()`

### Шаг 2. Поднимаем соединение

- начинаем слушать соединение через `socket_listen()`
- поднимаем соединение через `socket_accept()` и ждём, пока к нам кто-нибудь подключится

### Шаг 3. Общаемся с другим процессом

- читаем из соединения через `socket_read()`
- пишем в соединение через `socket_write()`

### Шаг 4. Завершаем работу
 
- закрываем соединение через `socket_close()`
- закрываем сокет через `socket_close()`
- если использовали сокет UNIX – удаляем его через `unlink()`

## Документация

https://www.php.net/manual/ru/book.sockets.php